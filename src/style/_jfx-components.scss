$background-white: #ffffff;
$background-highlight: #9fb5c8;
$background-selected: #3d5c72;
$background-dark: #55585e;
$background: #d6d9df;

$inactice-foreground: #959b9e;
$foreground: #000000;

$sans-serif-font: system-ui, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
$monospace-font: 'Consolas', Courier, monospace;

$padding: .25rem;
$thin-border: 1px;

.jfx-window {
    background: $background;
    color: $foreground;
    font-family: $sans-serif-font;
}

.jfx-window:has(.jfx-title) {
    display: grid;
    grid-template-rows: auto 1fr;
}

.jfx-window:has(.jfx-title, .jfx-menu) {
    display: grid;
    grid-template-rows: auto auto 1fr;
}

.jfx-menu {
    & {
        display: flex;
        background-image: linear-gradient($background-white 0%, $background 75%, $background-white 100%);
        padding: 0 .25rem;
        border-bottom: $thin-border solid $background-highlight;
        border-top: $thin-border solid $background-highlight;
    }

    .jfx-menu-option {
        padding: .125rem .5rem;
        text-align: center;
    }

    .jfx-menu-option.selected {
        background-color: $background-selected;
        color: $background-white;
    }
}

.jfx-title {
    & {
        align-items: center;
        background-color: $background-white;
        display: grid;
        gap: 1rem;
        grid-template-columns: 1rem 1fr auto;
        padding: .6rem 1rem .8rem 1rem;
    }

    .jfx-java-logo {
        aspect-ratio: 1 / 1;
        background-image: url(../assets/java.png);
        background-size: contain;
        height: 100%;
    }

    .jfx-window-name {
        color: $foreground;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .jfx-windows-options {
        & {
            display: flex;
            gap: 2.25rem;
        }

        .jfx-minimize,
        .jfx-restore,
        .jfx-maximize,
        .jfx-close {
            aspect-ratio: 1 / 1;
            height: calc(2rem / 3);
        }

        .jfx-minimize {
            & {
                position: relative;
            }

            &::before {
                background-color: $foreground;
                content: "";
                height: $thin-border;
                position: absolute;
                top: calc(50% - 1px);
                width: 100%;
            }
        }

        .jfx-restore {
            & {
                position: relative;
            }

            &::before,
            &::after {
                aspect-ratio: 1 / 1;
                border: $thin-border solid $foreground;
                content: "";
                height: calc(100% * 3 / 4);
                position: absolute;
            }

            &::before {
                top: 0;
                right: 0;
            }

            &::after {
                background-color: $background-white;
                left: 0;
                bottom: 0;
            }
        }

        .jfx-maximize {
            border: $thin-border solid $foreground;
        }

        .jfx-close {
            & {
                display: flex;
                position: relative;
            }

            &::before,
            &::after {
                content: "";
                height: $thin-border;
                background-color: $foreground;
                width: calc(sqrt(2) * 100% - calc($thin-border) / 2);
                position: absolute;
            }

            &::before {
                left: 0;
                transform-origin: calc($thin-border / 2) 50%;
                rotate: 45deg;
            }

            &::after {
                right: 0;
                transform-origin: calc(100% - calc($thin-border) / 2) 50%;
                rotate: -45deg;
            }
        }
    }
}

.jfx-button {
    background-image: linear-gradient($background-white 0%, $background 75%, $background-white 100%);
    border: $thin-border solid $background-highlight;
    border-radius: .25rem;
    padding: .25rem .75rem;
    text-align: center;
}

.jfx-field {
    background: #ffffff;
    border-image-slice: 1;
    border-image-source: linear-gradient($background-dark, #b8b8b9 .5rem);
    border-style: solid;
    border-width: $thin-border;
    padding: .25rem .5rem;
    position: relative;

    &::before {
        content: "";
        background-image: linear-gradient(#b8b8b9, transparent);
        position: absolute;
        height: .25rem;
        width: 100%;
        left: 0;
        top: 0;
    }
}
